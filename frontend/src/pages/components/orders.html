{% extends 'index.html' %}
{% load static %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-7xl">
  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-purple-500 mb-2">ORDER MANAGEMENT</h1>
    <p class="text-gray-400">Track and manage all customer orders</p>
  </div>
  
  <!-- Search and Filter -->
  <div class="mb-6 flex flex-col sm:flex-row gap-4" style="background-color: #1a1a1f; padding: 1.5rem; border-radius: 0.5rem;">
    <input type="text" id="orderSearch" placeholder="Search by order ID or customer name..." class="flex-1 px-4 py-2 rounded-lg border border-gray-700 bg-gray-800 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500" />
    <select id="statusFilter" class="px-4 py-2 rounded-lg border border-gray-700 bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-purple-500">
      <option value="">All Orders</option>
      <option value="completed">Completed</option>
      <option value="pending">Pending</option>
    </select>
    <button id="refreshOrders" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
      </svg>
    </button>
  </div>
  
  <!-- Stats -->
  <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <div style="background-color: #1a1a1f; padding: 1.5rem; border-radius: 0.5rem;">
      <div class="text-gray-400 text-sm mb-1">TOTAL</div>
      <div class="text-white text-2xl font-bold" id="totalOrders">0</div>
    </div>
    <div style="background-color: #1a1a1f; padding: 1.5rem; border-radius: 0.5rem;">
      <div class="text-gray-400 text-sm mb-1">PENDING</div>
      <div class="text-white text-2xl font-bold" id="pendingOrders">0</div>
    </div>
    <div style="background-color: #1a1a1f; padding: 1.5rem; border-radius: 0.5rem;">
      <div class="text-gray-400 text-sm mb-1">COMPLETED</div>
      <div class="text-white text-2xl font-bold" id="completedOrders">0</div>
    </div>
    <div style="background-color: #1a1a1f; padding: 1.5rem; border-radius: 0.5rem;">
      <div class="text-gray-400 text-sm mb-1">REVENUE</div>
      <div class="text-white text-2xl font-bold" id="totalRevenue">â‚¹0</div>
    </div>
  </div>
  
  <!-- Orders Table (Desktop & Tablet) -->
  <div class="hidden md:block overflow-x-auto" style="background-color: #1a1a1f; border-radius: 0.5rem;">
    <table class="w-full">
      <thead>
        <tr class="border-b border-gray-700">
          <th class="text-left px-6 py-4 text-gray-400 font-medium text-sm">Order ID</th>
          <th class="text-left px-6 py-4 text-gray-400 font-medium text-sm">Customer</th>
          <th class="text-left px-6 py-4 text-gray-400 font-medium text-sm">Items</th>
          <th class="text-left px-6 py-4 text-gray-400 font-medium text-sm">Amount</th>
          <th class="text-left px-6 py-4 text-gray-400 font-medium text-sm">Status</th>
          <th class="text-left px-6 py-4 text-gray-400 font-medium text-sm">Date</th>
          <th class="text-left px-6 py-4 text-gray-400 font-medium text-sm">Actions</th>
        </tr>
      </thead>
      <tbody id="ordersTableBody">
        <!-- Orders will be loaded here -->
      </tbody>
    </table>
  </div>
  
  <!-- Orders Cards (Mobile) -->
  <div class="md:hidden space-y-4" id="ordersCardContainer">
    <!-- Order cards will be loaded here -->
  </div>
  
  <!-- Pagination -->
  <div class="mt-6" id="ordersPagination">
    <!-- Pagination will be loaded here -->
  </div>
  
  <div id="noOrderResults" class="hidden text-center py-12">
    <p class="text-gray-400 text-lg">No orders found.</p>
  </div>
</div>

<!-- Order Detail Modal -->
<div id="orderModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
  <div id="orderModalContent">
    <!-- Modal content will be loaded here -->
  </div>
</div>

<script src="{% static 'js/order-management.js' %}"></script>
{% endblock %}
